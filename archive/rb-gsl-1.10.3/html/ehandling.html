<?xml version="1.0" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Error Handling</title>
<!-- head-element:nil -->
</head>
<body>
<h1><a name="Title:" href="#Title:">Title:</a> <a name="label-0">Error Handling</a></h1><!-- RDLabel: "Error Handling" -->

<h2><a name="1" href="#1">1</a> <a name="label-1">Error codes</a></h2><!-- RDLabel: "Error codes" -->

<p>The GSL routines report an error whenever they cannot perform the task 
requested of them. For example, a root-finding function would return a 
non-zero error code if could not converge to the requested accuracy, 
or exceeded a limit on the number of iterations. Situations like this 
are a normal occurrence when using any mathematical library and 
you should check the return status of the functions that you call.</p>
<p>Whenever a routine reports an error the return value specifies the type of error. 
The return value is analogous to the value of the variable errno in the C library. 
The caller can examine the return code and decide what action to take, including 
ignoring the error if it is not considered serious.</p>
<p>The error code numbers in GSL as <code>GSL_EDOM</code> are defined in Ruby/GSL 
as Ruby constants under the <code>GSL</code> module. Here are some of them:</p>
<ul>
<li><code>GSL::EDOM</code> - Domain error; used by mathematical functions when an 
    argument value does not fall into the domain over which the function is 
    defined (like <code>EDOM</code> in the C library)</li>
<li><code>GSL::ERANGE</code> - Range error; used by mathematical functions when the 
    result value is not representable because of overflow or underflow 
    (like <code>ERANGE</code> in the C library)</li>
<li><code>GSL::ENOMEM</code> - No memory available. The system cannot allocate more 
    virtual memory because its capacity is full (like <code>ENOMEM</code> in the 
    C library). This error is reported when a GSL routine encounters problems 
    when trying to allocate memory with malloc.</li>
<li><code>GSL::EINVAL</code> - Invalid argument. This is used to indicate various 
    kinds of problems with passing the wrong argument to a library function 
    (like <code>EINVAL</code> in the C library).</li>
</ul>
<h2><a name="2" href="#2">2</a> <a name="label-2">Error handler</a></h2><!-- RDLabel: "Error handler" -->

<p>In Ruby/GSL, the default GSL error handler is replaced by an other one which calls
<code>rb_raise()</code>. Thus whenever a GSL routine reports a fatal error, 
a Ruby Exception is generated.</p>
<dl>
<dt><a name="label-3" id="label-3"><code>GSL::set_error_handler(<var>proc</var>)</code></a></dt><!-- RDLabel: "GSL::set_error_handler" -->
<dt><a name="label-4" id="label-4"><code>GSL::set_error_handler { |<var>reason</var>, <var>file</var>, <var>line</var>, <var>errno</var>| ... }</code></a></dt><!-- RDLabel: "GSL::set_error_handler" -->
<dd>
This replaces the Ruby/GSL default error handler by a user-defined handler
given by a Proc object <var>proc</var> or a block.</dd>
</dl>
<p><a href="use.html">prev</a>
<a href="math.html">next</a></p>
<p><a href="ref.html">Reference index</a>
<a href="index.html">top</a></p>

</body>
</html>
